<!-- pages/settings/settings.wxml -->
<view class="container">
  <!-- Header Section -->
  <view class="header">
    <text class="title">{{language === 'en' ? 'Settings' : 'è®¾ç½®'}}</text>
    <text class="subtitle">{{language === 'en' ? 'Select your AI model' : 'é€‰æ‹©æ‚¨çš„ AI æ¨¡å‹'}}</text>
  </view>

  <!-- Unified Section: Notice + Model Selection -->
  <view class="unified-section">
    <!-- Notice -->
    <view class="section-notice">
      <view class="notice-icon">âœ¨</view>
      <text class="notice-title">{{language === 'en' ? 'API Keys Pre-configured' : 'API å¯†é’¥å·²é¢„é…ç½®'}}</text>
      <text class="notice-text">{{language === 'en' ? 'All models have built-in keys and are ready to use.' : 'æ‰€æœ‰æ¨¡å‹éƒ½å·²å†…ç½®å¯†é’¥ï¼Œå¯ç›´æ¥ä½¿ç”¨ã€‚'}}</text>
    </view>

    <!-- Recommendation Tip -->
    <view class="recommendation-tip">
      <text class="tip-icon">ğŸ’¡</text>
      <view class="tip-content">
        <text class="tip-title">{{language === 'en' ? 'Recommendation' : 'æ¨è'}}</text>
        <text class="tip-text">{{language === 'en' ? 'DeepSeek-Chat offers the best balance of speed and quality for daily use.' : 'DeepSeek-Chat åœ¨é€Ÿåº¦å’Œè´¨é‡ä¹‹é—´å–å¾—äº†æœ€ä½³å¹³è¡¡ï¼Œé€‚åˆæ—¥å¸¸ä½¿ç”¨ã€‚'}}</text>
      </view>
    </view>

    <!-- Section Header -->
    <view class="section-header">
      <text class="section-title">{{language === 'en' ? 'AI Model Selection' : 'AI æ¨¡å‹é€‰æ‹©'}}</text>
      <text class="section-desc">{{language === 'en' ? 'Choose which AI model to use for article generation' : 'é€‰æ‹©ç”¨äºæ–‡ç« ç”Ÿæˆçš„ AI æ¨¡å‹'}}</text>
    </view>

    <!-- Model Options -->
    <radio-group class="model-options" bindchange="onModelChange">
      <!-- GLM-4.7 Option -->
      <label class="model-card {{selectedModel === 'glm-4.7' ? 'active' : ''}}">
        <radio value="glm-4.7" checked="{{selectedModel === 'glm-4.7'}}" class="hidden-radio" />
        <view class="model-card-content">
          <view class="model-icon-wrapper">
            <text class="model-icon">ğŸ¤–</text>
          </view>
          <view class="model-details">
            <text class="model-name">GLM-4.7</text>
            <text class="model-subname">{{language === 'en' ? '(æ™ºè°± Zhipu)' : '(æ™ºè°±)'}}</text>
            <text class="model-tags">
              <text class="tag tag-quality">{{language === 'en' ? 'Quality' : 'è´¨é‡å¥½'}}</text>
              <text class="tag tag-speed">{{language === 'en' ? 'Slightly Slow' : 'ç¨æ…¢'}}</text>
            </text>
            <text class="model-desc">{{language === 'en' ? 'âœ… Pre-configured â€¢ Good output quality' : 'âœ… å·²é…ç½® â€¢ è¾“å‡ºè´¨é‡ä¸é”™'}}</text>
          </view>
          <view class="model-indicator {{selectedModel === 'glm-4.7' ? 'active' : ''}}">
            <view class="indicator-dot"></view>
          </view>
        </view>
      </label>

      <!-- DeepSeek-Chat Option -->
      <label class="model-card {{selectedModel === 'deepseek-chat' ? 'active' : ''}}">
        <radio value="deepseek-chat" checked="{{selectedModel === 'deepseek-chat'}}" class="hidden-radio" />
        <view class="model-card-content">
          <view class="model-icon-wrapper">
            <text class="model-icon">âš¡</text>
          </view>
          <view class="model-details">
            <text class="model-name">DeepSeek-Chat</text>
            <text class="model-subname">{{language === 'en' ? '(DeepSeek)' : '(æ·±åº¦æ±‚ç´¢)'}}</text>
            <text class="model-tags">
              <text class="tag tag-quality tag-recommended">{{language === 'en' ? 'Good Quality' : 'è´¨é‡å¥½'}}</text>
              <text class="tag tag-speed tag-recommended">{{language === 'en' ? 'Fast' : 'å¿«é€Ÿ'}}</text>
            </text>
            <text class="model-desc">{{language === 'en' ? 'âœ… Pre-configured â€¢ Fast & good quality' : 'âœ… å·²é…ç½® â€¢ å¿«é€Ÿä¸”è´¨é‡å¥½'}}</text>
          </view>
          <view class="model-indicator {{selectedModel === 'deepseek-chat' ? 'active' : ''}}">
            <view class="indicator-dot"></view>
          </view>
        </view>
      </label>

      <!-- DeepSeek-Reasoner Option -->
      <label class="model-card {{selectedModel === 'deepseek-reasoner' ? 'active' : ''}}">
        <radio value="deepseek-reasoner" checked="{{selectedModel === 'deepseek-reasoner'}}" class="hidden-radio" />
        <view class="model-card-content">
          <view class="model-icon-wrapper">
            <text class="model-icon">ğŸ§ </text>
          </view>
          <view class="model-details">
            <text class="model-name">DeepSeek-Reasoner</text>
            <text class="model-subname">{{language === 'en' ? '(DeepSeek R1)' : '(æ·±åº¦æ±‚ç´¢ R1)'}}</text>
            <text class="model-tags">
              <text class="tag tag-quality tag-best">{{language === 'en' ? 'Best Quality' : 'æœ€ä½³è´¨é‡'}}</text>
              <text class="tag tag-speed tag-slowest">{{language === 'en' ? 'Slowest' : 'æœ€æ…¢'}}</text>
            </text>
            <text class="model-desc">{{language === 'en' ? 'âœ… Pre-configured â€¢ Powerful reasoning' : 'âœ… å·²é…ç½® â€¢ å¼ºå¤§æ¨ç†èƒ½åŠ›'}}</text>
          </view>
          <view class="model-indicator {{selectedModel === 'deepseek-reasoner' ? 'active' : ''}}">
            <view class="indicator-dot"></view>
          </view>
        </view>
      </label>
    </radio-group>
  </view>

  <!-- Debug Mode Section -->
  <view class="unified-section" style="margin-top: 24rpx;">
    <view class="section-header">
      <text class="section-title">{{language === 'en' ? 'Debug Mode' : 'è°ƒè¯•æ¨¡å¼'}}</text>
      <text class="section-desc">{{language === 'en' ? 'Enable detailed logging for development' : 'å¯ç”¨è¯¦ç»†æ—¥å¿—ç”¨äºå¼€å‘'}}</text>
    </view>

    <view class="debug-mode-card">
      <view class="debug-mode-content">
        <view class="debug-mode-info">
          <text class="debug-mode-icon">{{debugMode ? 'ğŸ›' : 'ğŸ”’'}}</text>
          <view class="debug-mode-text">
            <text class="debug-mode-title">{{debugMode ? (language === 'en' ? 'Debug Mode Enabled' : 'è°ƒè¯•æ¨¡å¼å·²å¼€å¯') : (language === 'en' ? 'Production Mode' : 'ç”Ÿäº§æ¨¡å¼')}}</text>
            <text class="debug-mode-desc">{{debugMode ? (language === 'en' ? 'Detailed logs will appear in console' : 'æ§åˆ¶å°å°†æ˜¾ç¤ºè¯¦ç»†æ—¥å¿—') : (language === 'en' ? 'Only errors and warnings will be logged' : 'ä»…è®°å½•é”™è¯¯å’Œè­¦å‘Š')}}</text>
          </view>
        </view>
        <switch checked="{{debugMode}}" bindchange="onDebugModeChange" color="#FF6B6B" />
      </view>
    </view>
  </view>

  <!-- Back Button -->
  <view class="button-container">
    <button class="back-btn" bindtap="goBack">
      <text class="back-btn-icon">â†</text>
      <text class="back-btn-text">{{language === 'en' ? 'Back' : 'è¿”å›'}}</text>
    </button>
  </view>
</view>
